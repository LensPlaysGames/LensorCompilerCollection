<!doctypehtml><html lang=en-us><head><meta charset=utf-8><meta content="text/html; charset=utf-8"http-equiv=Content-Type><title>LCC Playground</title><link href=https://lensplaysgames.github.io/LensorCompilerCollection/lcc.html rel=canonical><meta content="Lensor Compiler Collection"name=application-name><meta content=Lens name=author><meta content="Landing Page for Lensor Compiler Collection"name=description><meta content="compiler, programming, development, cpp, c, glint, lcc"name=keywords><meta content=strict-origin name=referrer><meta content="Lensor Compiler Collection"itemprop=name><meta content="Interactive Playground for the Lensor Compiler Collection"itemprop=description><meta content="ie=edge"http-equiv=x-ua-compatible><meta content=/LensorCompilerCollection/lcc.html name=msapplication-starturl><meta content="Landing Page for the Lensor Compiler Collection"name=msapplication-tooltip><meta content=#0e1011 name=msapplication-TileColor><meta content=website property=og:type><meta content=https://lensplaysgames.github.io/LensorCompilerCollection/lcc.html property=og:url><meta content="Lensor Compiler Collection"property=og:title><meta content="Landing Page for the Lensor Compiler Collection"property=og:description><meta content=en_US property=og:locale><meta content=app name=twitter:card><meta content="Lensor Compiler Collection"name=twitter:title><meta content="Landing Page for the Lensor Compiler Collection"name=twitter:description><meta content=https://lensplaysgames.github.io/LensorCompilerCollection/lcc.html name=twitter:url><meta content="Lensor Compiler Collection"name=apple-mobile-web-app-title><meta content=yes name=apple-mobile-web-app-capable><meta content=#0e1011 name=apple-mobile-web-app-status-bar-style><meta content=#0e1011 name=theme-color><meta content=yes name=mobile-web-app-capable><style>:root{--bg-color:rgb(14, 16, 17);--text-color:#ffffff;color-scheme:dark light}body{background:var(--bg-color);color:var(--text-color)}hr{width:100%}.lcc-svg{margin:auto;padding:8px 16px;background-color:#779095;border-radius:16px;max-height:min(10vh,10vw)}.emscripten{padding-right:0;margin-left:auto;margin-right:auto;display:block}textarea.emscripten{font-family:monospace;width:100%}div.emscripten{text-align:center}div.emscripten_border{border:1px solid #000}.spinner{height:50px;width:50px;margin:0 auto;-webkit-animation:rotation .8s linear infinite;-moz-animation:rotation .8s linear infinite;-o-animation:rotation .8s linear infinite;animation:rotation .8s linear infinite;border-left:10px solid #0096f0;border-right:10px solid #0096f0;border-bottom:10px solid #0096f0;border-top:10px solid #6400c8;border-radius:100%;background-color:#c864fa}@-webkit-keyframes rotation{from{-webkit-transform:rotate(0)}to{-webkit-transform:rotate(360deg)}}@-moz-keyframes rotation{from{-moz-transform:rotate(0)}to{-moz-transform:rotate(360deg)}}@-o-keyframes rotation{from{-o-transform:rotate(0)}to{-o-transform:rotate(360deg)}}@keyframes rotation{from{transform:rotate(0)}to{transform:rotate(360deg)}}</style><meta content="dark light"name=color-scheme></head><body><header><img class=lcc-svg src=lcc.svg><hr></header><main><figure id=spinner style=overflow:visible><div class=spinner></div><center style=margin-top:.5em><strong>Lensor Compiler Collection</strong></center></figure><div class=emscripten id=status>Downloading...</div><div class=emscripten><progress hidden id=progress max=100 value=0></progress></div><div style=display:flex;flex-direction:column><div style=display:flex;flex-direction:column;margin-right:auto><button id=build>Build</button> <label for=build-on-change><input id=build-on-change name=build-on-change-checkbox type=checkbox value=build-on-change checked> Build On Change</label><hr><label for=print-ast style=display:flex;justify-content:space-between><div><input id=print-ast name=print-ast-checkbox type=checkbox value=print-ast> Print AST</div><code><small>--ast</small></code></label> <label for=print-ir style=display:flex;justify-content:space-between><div><input id=print-ir name=print-ir-checkbox type=checkbox value=print-ir> Print IR</div><code><small>--ir</small></code></label> <label for=print-mir style=display:flex;justify-content:space-between><div><input id=print-mir name=print-mir-checkbox type=checkbox value=print-mir> Print MIR</div><code><small>--mir</small></code></label> <label for=print-output style=display:flex;justify-content:space-between><div><input id=print-output name=print-output-checkbox type=checkbox value=print-output checked> Print Output</div><code><small>-o -</small></code></label><div style=display:flex><label style=display:flex;margin-right:1rem>Format <select aria-label=Format autocomplete=nothanks id=format name=format required style=width:100%;margin-left:.25rem><option value=""selected>None</option><option value=GNUASM>GNU x86_64 Assembly</option><option value=WAT>Textual WebAssembly (WAT)</option><option value=LLVM>LLVM IR</option><option value=LCCIR>LCC IR</option><option value=LCCSSA>LCC IR (SSA Form)</option></select></label> <label style=display:flex>Optimisation <select aria-label=Optimisation autocomplete=nothanks id=optimisation name=optimisation required style=width:100%;margin-left:.25rem><option value=0 selected>None</option><option value=1>Minimal</option><option value=2>Some</option><option value=3>Most</option></select></label></div><hr><label for=strip-lines-hash><input id=strip-lines-hash name=strip-lines-hash-checkbox type=checkbox value=strip-lines-hash checked> Strip # Lines</label> <label for=strip-lines-dot><input id=strip-lines-dot name=strip-lines-dot-checkbox type=checkbox value=strip-lines-dot checked> Strip . Lines</label><hr style=margin-bottom:0></div><div style=width:100%;margin:auto display=flex><label for=input style=font-family:monospace>foo.g</label> <textarea class=emscripten id=input rows=8 spellcheck=false>69;</textarea><div><label for=output style=font-family:monospace id=command-line>lcc foo.g</label> <textarea class=emscripten id=output rows=16 spellcheck=false readonly></textarea></div></div></div><hr><details><summary>Resources</summary><p>Learn Glint via <a href=thebook.html rel="noopener noreferrer"target=_blank>The Book (HTML)</a></p><p><a href=https://www.github.com/LensPlaysGames/LensorCompilerCollection rel="noopener noreferrer"target=_blank>LCC Source Code</a></p></details><div style=text-align:center><small><em>What the heck am I looking at?</em><br>Write the Glint programming language in <code>foo.g</code>, and see the output of the compilation process (via LCC) appear below.<br>Inspired by Matt Godbolt's Compiler Explorer.<br></small></div></main><script>var Module={},statusElement=document.getElementById("status"),progressElement=document.getElementById("progress"),spinnerElement=document.getElementById("spinner"),outputElement=document.getElementById("output");outputElement&&(outputElement.value="");var inputElement=document.getElementById("input"),commandLineElement=document.getElementById("command-line"),shouldPrintAST=!1,shouldPrintIR=!1,shouldPrintMIR=!1,shouldPrintOutput=!0,shouldUseFormat=void 0,shouldOptimise=void 0,shouldStripDotLines=void 0,shouldStripHashLines=void 0</script><script type=module>import LCC from"./lcc.js";function webPrint(...e){if(outputElement){var t=e.join(" ");outputElement.value+=t+"\n",outputElement.scrollTop=outputElement.scrollHeight}else console.log(...e)}var Module={onRuntimeInitialized:()=>{},setStatus:e=>{if(Module.setStatus.last||(Module.setStatus.last={time:Date.now(),text:""}),e!==Module.setStatus.last.text){var t=e.match(/([^(]+)\((\d+(\.\d+)?)\/(\d+)\)/),n=Date.now();t&&n-Module.setStatus.last.time<30||(Module.setStatus.last.time=n,Module.setStatus.last.text=e,t?(e=t[1],progressElement.value=100*parseInt(t[2]),progressElement.max=100*parseInt(t[4]),progressElement.hidden=!1,spinnerElement.hidden=!1):(progressElement.value=null,progressElement.max=null,progressElement.hidden=!0,e||(spinnerElement.hidden=!0)),statusElement.innerHTML=e)}},print:webPrint,printErr:webPrint,noExitRuntime:null,preloadPlugins:null,STACK_SIZE:void 0,wasmMemory:void 0};function eventBuildOnChange(e){inputElement&&(e?inputElement.addEventListener("change",doBuild):inputElement.removeEventListener("change",doBuild))}function lccFormatFromSelection(e){switch(e){default:window.Error("Unexpected format selection");case"":return"asm";case"GNUASM":return"gnu-as-att";case"LLVM":return"llvm";case"LCCSSA":return"ssa_ir";case"LCCIR":return"ir";case"WAT":return"wat"}}async function doBuild(){outputElement.value="";var e=["foo.g","--color","never"];shouldPrintAST&&e.push("--ast"),shouldPrintIR&&e.push("--ir"),shouldPrintMIR&&e.push("--mir"),shouldUseFormat&&(e.push("-f"),e.push(lccFormatFromSelection(shouldUseFormat))),shouldOptimise&&(e.push("-O"),e.push(shouldOptimise)),shouldPrintOutput&&(e.push("-o"),e.push("-")),commandLineElement.innerHTML="lcc "+e.join(" "),(Module=await LCC(Module)).setStatus("Ready to run");var t=inputElement.value;if(console.log("updating foo.g to",t),Module.FS.writeFile("foo.g",t),console.log("foo.g updated to",t),Module.setStatus("Running lcc ",e),Module.callMain(e),Module.setStatus("Ran lcc ",e),outputElement){function n(e,t){const n=new RegExp(`^\\s*${RegExp.escape(e)}.*$[\n]`,"gm");return t.replace(n,"")}shouldStripHashLines&&(outputElement.value=n("#",outputElement.value)),shouldStripDotLines&&(outputElement.value=n(".",outputElement.value))}}Module.setStatus("Ready"),window.onerror=()=>{Module.setStatus("Exception thrown, see JavaScript console"),spinnerElement.style.display="none",Module.setStatus=e=>{e&&console.error("[post-exception status] "+e)}},document.getElementById("build-on-change").addEventListener("change",(function(){eventBuildOnChange(this.checked)})),eventBuildOnChange(document.getElementById("build-on-change").checked),document.getElementById("print-ast").addEventListener("change",(function(){shouldPrintAST=this.checked,doBuild()})),shouldPrintAST=document.getElementById("print-ast").checked,document.getElementById("print-ir").addEventListener("change",(function(){shouldPrintIR=this.checked,doBuild()})),shouldPrintIR=document.getElementById("print-ir").checked,document.getElementById("print-mir").addEventListener("change",(function(){shouldPrintMIR=this.checked,doBuild()})),shouldPrintMIR=document.getElementById("print-mir").checked,document.getElementById("print-output").addEventListener("change",(function(){shouldPrintOutput=this.checked,doBuild()})),shouldPrintOutput=document.getElementById("print-output").checked,document.getElementById("format").addEventListener("change",(function(e){shouldUseFormat=e.target.value,doBuild()})),document.getElementById("optimisation").addEventListener("change",(function(e){shouldOptimise=e.target.value,doBuild()})),document.getElementById("strip-lines-hash").addEventListener("change",(function(e){shouldStripHashLines=this.checked,doBuild()})),shouldStripHashLines=document.getElementById("strip-lines-hash").checked,document.getElementById("strip-lines-dot").addEventListener("change",(function(e){shouldStripDotLines=this.checked,doBuild()})),shouldStripDotLines=document.getElementById("strip-lines-dot").checked,document.getElementById("build").addEventListener("click",doBuild),doBuild()</script><script type=module>import initModule from"./lcc.js";initModule(Module)</script></body></html>